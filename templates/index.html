{% extends "base.html" %}
{% load static %}
{% block 'main' %}

<div class="container">
    <div class="row">
      <div class="col-md-4 mt-4 bg-body-secondary"  ><!--filter start-->
        <h5>Filter by category</h5>
        <hr>
        <p><a class="anchor" href="/catfilter/1">By Mobile</a></p>
        <p><a class="anchor" href="/catfilter/2">By shoes</a></p>
        <p><a class="anchor" href="/catfilter/3">By Clothes</a></p>          
        <h5>Filter by price</h5>
        <hr>
        <div class="mb-3">
          <form action="/range">
            <label for="Input1"  class="form-label">Min Value:</label>
            <input type="number" name="min" class="form-control" id="Input1" placeholder="Min Value">
            <label for="Input2" class="form-label">Max Value:</label>
            <input type="number" name="max" class="form-control" id="Input2" placeholder="Max Value">
            <div class="mb-3 mt-2">
              <input type="submit" value="Submit" class="btn btn-danger">
            </div>
          </form>
        </div>
        <h5>sorted by price</h5>
        <hr>
        <p><a class="anchor" href="/sort/0">Low to High</a></p> <!--o indicate low to high-->
        <p><a class="anchor" href="/sort/1">High to Low</a></p>
      </div><!-- filter end -->

      <div class="col-md-8"><!--Product start-->
        <div class="row">
          {% for x in products %}
          <div class="col-md-4 mt-4"> <!--Product 1 Start-->
            <div class="card" style="width: 100%; ">
              <img src="{{x.pimage.url}}" width="100%" height="250px" class="card-img-top" alt="...">
              <div class="card-body">
                <h5 class="card-title">Name: &nbsp;{{x.name}}</h5>
                <p class="card-text">Rs.&nbsp;{{x.price}}</p>
                <!-- <p class="card-text">{{x.cat}}</p> -->
                <!--to print name of category in our page in the place of 1,2,3 -->
                {% if x.cat == 1 %}
                  <div class="card-text">Mobile</div>
                {% elif x.cat == 2 %}
                  <div class="card-text">Shoes</div>
                {% else %}
                  <div class="card-text">Clothes</div>
                {% endif %}
                <a href="/pdetails/{{x.id}}" class="btn btn-danger">See details</a>
              </div>
            </div>
          </div><!--Product 1 end-->
          {% endfor %}  
        </div>   
      </div><!-- product end -->
    </div>
  </div><!-- product and filter end-->
{% endblock 'main'%}
